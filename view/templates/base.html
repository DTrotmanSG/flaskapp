<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>{{ title if title else "UBS Talent Accelerator" }}</title>

    <!-- Bootstrap -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
    >

    <!-- App Styles -->
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='quiz.css') }}">
</head>

<body class="bg-light">

<!-- NAVBAR -->
<nav class="navbar navbar-expand-lg navbar-light bg-white border-bottom shadow-sm mb-4">
  <div class="container">

    <a class="navbar-brand fw-bold" href="/">
        <span class="ubs-red">UBS</span> Talent Accelerator
    </a>

    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse" id="navbarNav">
      <div class="navbar-nav ms-auto">

        {% if session.get("user_id") %}
            <a class="nav-link" href="/">Home</a>
            <a class="nav-link" href="/quiz">Quiz</a>
            <a class="nav-link" href="/students">Students</a>
            <a class="nav-link text-danger fw-bold" href="/logout">Logout</a>
        {% else %}
            <a class="nav-link" href="/login">Login</a>
        {% endif %}

      </div>
    </div>

  </div>
</nav>

<!-- PAGE CONTENT -->
<div class="container pb-5">
     {% block content %}{% endblock %}
</div>

<!-- Bootstrap JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

<!-- AUTO‑LOGOUT (20‑minute inactivity) -->
<script>
let logoutTimer;

function resetLogoutTimer() {
    clearTimeout(logoutTimer);
    logoutTimer = setTimeout(() => {
        window.location.href = "/logout";
    }, 20 * 60 * 1000); // 20 minutes
}

document.onload = resetLogoutTimer();
document.onmousemove = resetLogoutTimer;
document.onkeypress = resetLogoutTimer;
document.onclick = resetLogoutTimer;
document.onscroll = resetLogoutTimer;
</script>

</body>
</html>
